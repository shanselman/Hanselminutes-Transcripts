WEBVTT FILE

1
00:00:12.210 --> 00:00:18.150
From Hansel minutes.com it's Hansel
minutes or weekly discussion with

2
00:00:18.150 --> 00:00:23.160
web developer and technologists. Scott
Hanselman. This is Lawrence Ryan announcing

3
00:00:23.160 --> 00:00:29.310
show number one 99. Recorded
live Thursday, February 3rd, 2010. Support for

4
00:00:29.310 --> 00:00:32.790
Hanselman it's just provided by
Tellerik rad controls, the most

5
00:00:32.850 --> 00:00:36.510
comprehensive suite of components for
windows four, an asp.net web

6
00:00:36.540 --> 00:00:46.530
application online@wwwdottelerik.com. In this episode,
Scott talks with Craigslist developer.

7
00:00:46.770 --> 00:00:51.060
Jeremy's a widening. Hi, this
is Scott Hanselman. And this

8
00:00:51.060 --> 00:00:53.010
is another episode of Hansel
minutes. I think it's in

9
00:00:53.010 --> 00:00:56.190
fact, episode one 99, we're
coming up on 200 with

10
00:00:56.190 --> 00:00:59.460
this episode. We are very
lucky to have Jeremy's Rodney,

11
00:00:59.460 --> 00:01:02.760
who is an employee of
Craigslist and formerly of Yahoo.

12
00:01:03.030 --> 00:01:04.620
I thank you, sir, for
taking the time to chat

13
00:01:04.620 --> 00:01:10.050
with me. So yeah, and
also thanks to Craig for

14
00:01:10.050 --> 00:01:12.570
hooking this up. It just,
I love the Twitter, how

15
00:01:12.570 --> 00:01:16.140
it makes us, it makes
people available. Craig was very

16
00:01:16.140 --> 00:01:20.150
kind to, to facilitate this.
He's a, he seems very

17
00:01:20.150 --> 00:01:22.640
active on Twitter too. I
follow him and he's all

18
00:01:22.640 --> 00:01:24.290
over the place all over
the world, doing all sorts

19
00:01:24.290 --> 00:01:27.260
of things. Yeah. He really,
he really is. So I

20
00:01:27.260 --> 00:01:29.420
assume that he's not sitting
in the office, working with

21
00:01:29.420 --> 00:01:32.120
you, coding Craigslist from day
to day at this point,

22
00:01:32.120 --> 00:01:34.970
he's off being Craig. Yeah,
that's right. He's a, he's

23
00:01:34.970 --> 00:01:37.580
off being Craig. Although he
does help out with, with

24
00:01:37.580 --> 00:01:40.010
customer service type stuff, still
a fair amount of his

25
00:01:40.010 --> 00:01:43.190
time. So he's he pokes
into the office once in

26
00:01:43.190 --> 00:01:45.320
a while, but I think
mostly he works remotely from

27
00:01:45.320 --> 00:01:47.180
home or from whatever corner
of the globe. He finds

28
00:01:47.180 --> 00:01:50.600
himself in How many, how
many people work at Craigslist?

29
00:01:52.150 --> 00:01:53.990
Hi, you know, our total
right now I've got to

30
00:01:54.290 --> 00:01:58.010
guess is in the thirties
or something. It's, it's not

31
00:01:58.010 --> 00:01:59.300
a lot of us. I
mean, it was, it was

32
00:01:59.300 --> 00:02:01.340
20 or 25 for awhile
and we hired some people

33
00:02:01.340 --> 00:02:04.520
last year and the year
before that myself included. So

34
00:02:04.520 --> 00:02:06.200
we grew a little bit,
but it was still pretty

35
00:02:06.200 --> 00:02:08.600
small compared to a lot
of companies that have the

36
00:02:08.600 --> 00:02:11.540
kind of traffic we do.
And you're the head of

37
00:02:11.540 --> 00:02:16.190
development, is that correct? No,
I don't know. I know.

38
00:02:16.190 --> 00:02:17.600
I mean, I'm not, I
shouldn't say, I don't know.

39
00:02:17.810 --> 00:02:21.170
Well, let me rephrase the
question then. How many developers

40
00:02:21.170 --> 00:02:23.030
are there and are you
all peers or how do

41
00:02:23.030 --> 00:02:26.090
you kind of manage the
workload? Yeah. So where there's,

42
00:02:27.410 --> 00:02:30.080
I mean, it's something like
eight or nine of us

43
00:02:30.080 --> 00:02:32.150
right now and yeah, we're
all we're up here. I

44
00:02:32.150 --> 00:02:33.980
mean, we try to bring
in, we try to be

45
00:02:33.980 --> 00:02:38.090
in bringing people who are
pretty experienced in and, and

46
00:02:38.090 --> 00:02:39.770
don't need a lot of
direction and all just work

47
00:02:39.770 --> 00:02:43.100
together on things and we
all report to the CTO.

48
00:02:43.100 --> 00:02:47.360
So he's ultimately the one
who's kind of helping hurt

49
00:02:47.360 --> 00:02:49.160
us and figure out what's
important and what we should

50
00:02:49.160 --> 00:02:51.140
be working on. But, you
know, we get a lot

51
00:02:51.140 --> 00:02:53.210
of freedom to work on
the projects that are important

52
00:02:53.210 --> 00:02:55.640
in any given time. And
how long, how long have

53
00:02:55.640 --> 00:03:00.040
you been there? You've been
there since what, 2008. Middle

54
00:03:00.040 --> 00:03:02.500
Of 2008. So it's maybe,
I don't know, a year

55
00:03:02.500 --> 00:03:05.260
and seven months now or
something like that. Yeah. I

56
00:03:05.260 --> 00:03:08.020
left Yahoo in June of
that year and then started

57
00:03:08.020 --> 00:03:12.240
Craigslist in July. Now why,
why would you leave Yahoo

58
00:03:12.270 --> 00:03:14.940
being such a big place
where you could work on

59
00:03:15.270 --> 00:03:19.050
problems of a certain kind
size scale breadth to work

60
00:03:19.050 --> 00:03:21.660
at Craigslist, which I think
is arguably as a narrow

61
00:03:21.660 --> 00:03:25.740
focus. Oh yeah, definitely. I
mean, a lot of it

62
00:03:25.740 --> 00:03:28.410
goes back to when I
first got out of school,

63
00:03:29.010 --> 00:03:31.080
I always sort of thought
myself working in a small

64
00:03:31.080 --> 00:03:35.670
organization and it was kind
of a joke on myself.

65
00:03:35.670 --> 00:03:37.440
Cause the first job I
took out of school was

66
00:03:37.440 --> 00:03:40.860
to work at a 40,000
person oil company. I worked

67
00:03:40.860 --> 00:03:43.590
at marathon oil and back
then though, the web was

68
00:03:43.590 --> 00:03:45.240
all fairly new and companies
are trying to figure out

69
00:03:45.240 --> 00:03:47.130
what to do with it.
And so I was there

70
00:03:47.130 --> 00:03:49.560
for a few years, helping
out with our intranet development

71
00:03:49.560 --> 00:03:55.080
and help launch their public
marathon.com website. And then I

72
00:03:55.080 --> 00:03:58.230
just happened to see in
an ad for a posting,

73
00:03:58.230 --> 00:04:00.990
for a job at Yahoo
and Yahoo finance, which I

74
00:04:00.990 --> 00:04:02.790
was actually part of guy
who I used the most

75
00:04:02.790 --> 00:04:05.280
at the time, came out
to California and worked at

76
00:04:05.280 --> 00:04:06.900
Yahoo when it was, you
know, it started, there was

77
00:04:06.900 --> 00:04:10.920
like 2000 people. I was
employee 20,013 or 2036 or

78
00:04:10.920 --> 00:04:13.680
something like that. And, and
it just, you know, it

79
00:04:13.680 --> 00:04:17.340
just got bigger over time.
And I think the Hunt's

80
00:04:17.340 --> 00:04:20.340
going to getting bigger is
it gets more challenging to

81
00:04:20.340 --> 00:04:24.180
do certain things. So I
was kind of looking, I've

82
00:04:24.180 --> 00:04:25.860
been looking for a change
for a while and I

83
00:04:25.860 --> 00:04:29.070
think that change was going
to a much smaller organization

84
00:04:29.070 --> 00:04:31.800
and I couldn't have gotten
much smaller than Craigslist and

85
00:04:31.800 --> 00:04:35.040
still work on problems that
I think are interesting as

86
00:04:35.040 --> 00:04:37.290
the ones I get to
work on. Yeah. I think

87
00:04:37.290 --> 00:04:40.140
Craigslist is unique in the
sense that it is absolutely

88
00:04:40.170 --> 00:04:44.760
kind of globally visible, but
it sounds like a boutique

89
00:04:45.180 --> 00:04:47.910
there's lots of little 30
person shops out there in

90
00:04:47.910 --> 00:04:49.530
the world. They just don't
have any kind of the

91
00:04:49.530 --> 00:04:52.950
reach and the traffic that
Craigslist does. Yeah. It's pretty

92
00:04:52.950 --> 00:04:55.650
amazing. I mean, it's just,
it's it's we have got

93
00:04:55.650 --> 00:04:57.090
our way, we've got a
little webpage we can look

94
00:04:57.090 --> 00:04:59.010
at internally to watch kind
of all sorts of realtime

95
00:04:59.040 --> 00:05:01.920
numbers from our servers and
sort of our total traffic

96
00:05:01.950 --> 00:05:03.660
volume and things like that.
You know, I look at

97
00:05:03.660 --> 00:05:06.030
the, the hits per second,
we're doing are the searches

98
00:05:06.030 --> 00:05:07.950
per second, are the posts
coming in? And it's just

99
00:05:07.950 --> 00:05:10.230
this phenomenal number and it's,
you kind of look at

100
00:05:10.230 --> 00:05:11.910
it. And it's like, we,
we, what we really created

101
00:05:11.910 --> 00:05:13.830
is a sort of a
machine that runs itself for

102
00:05:13.830 --> 00:05:15.330
the most part. And we
were just there to give

103
00:05:15.330 --> 00:05:18.180
it maintenance and, and provide
enhancements once in awhile because

104
00:05:18.480 --> 00:05:20.250
it's the, I mean the
millions of people using the

105
00:05:20.250 --> 00:05:22.650
site every day that really
make it all work. We

106
00:05:22.650 --> 00:05:25.350
just, we just put the
bare bones infrastructure in place.

107
00:05:26.550 --> 00:05:28.290
Well, what can you tell
me about this, about the,

108
00:05:28.830 --> 00:05:32.040
the size of this and,
and what it's written in?

109
00:05:32.040 --> 00:05:33.420
Kind of just give us
a sense of, I think

110
00:05:33.420 --> 00:05:36.240
a lot of people who
listen to the show, you

111
00:05:36.240 --> 00:05:40.260
know, they're familiar with web
farms and putting together many

112
00:05:40.260 --> 00:05:44.340
machines to do the work.
What, what is this built

113
00:05:44.340 --> 00:05:46.500
on? How many boxes are
there just a general sense

114
00:05:46.500 --> 00:05:50.130
of the lay of the
land? Yeah, we've got something

115
00:05:50.130 --> 00:05:52.560
in the neighborhood of, I
think 500 total servers in

116
00:05:52.560 --> 00:05:55.650
our, in our two data
centers right now we have

117
00:05:55.650 --> 00:05:59.300
a data center in San
Francisco and one Arizona and

118
00:06:00.920 --> 00:06:03.950
the bulk of the site,
all the front end. It's,

119
00:06:04.210 --> 00:06:08.480
it's all, probably 95% of
our code is written in

120
00:06:08.480 --> 00:06:12.440
Pearl. And I'd say a
fair chunk of that as

121
00:06:12.440 --> 00:06:15.950
mob pro code running under
Apache. And that is all

122
00:06:15.950 --> 00:06:18.350
the interactive stuff that users
deal with. And then we

123
00:06:18.350 --> 00:06:23.150
also have some custom services
that are written some front

124
00:06:23.150 --> 00:06:26.240
end, some backend services also
written in Pearl. And we've

125
00:06:26.240 --> 00:06:27.950
got a few little bits
of code here and there

126
00:06:27.950 --> 00:06:29.750
that are written in C
or C plus plus for

127
00:06:29.780 --> 00:06:32.750
performance reasons, just because it's,
it's something we really had

128
00:06:32.750 --> 00:06:35.130
to optimize, or it's a
third party, you know, it's

129
00:06:35.130 --> 00:06:37.280
the third party opensource tool,
for example, you know, my

130
00:06:37.280 --> 00:06:38.870
SQL was written in C
plus plus, and we use

131
00:06:38.870 --> 00:06:42.950
my SQL, but most of
the code we write in

132
00:06:42.950 --> 00:06:44.750
is in Pearl and a
little bits of CNC plus

133
00:06:44.750 --> 00:06:48.290
plus here and there. And
we've got, you know, we've,

134
00:06:48.320 --> 00:06:51.530
we've got our, our infrastructure
divided into lots of different

135
00:06:51.530 --> 00:06:53.600
tiers. Like I think a
lot of other large websites

136
00:06:53.600 --> 00:06:55.610
do, you know, we've got
our sort of database tier,

137
00:06:55.640 --> 00:06:58.460
which has lots of different
clusters of databases and it,

138
00:06:58.970 --> 00:07:01.070
you know, we've got one
for all the postings, another

139
00:07:01.070 --> 00:07:03.800
one for all the users
and other one for our,

140
00:07:04.370 --> 00:07:08.150
our images and other one
for our abuse, metadata, and

141
00:07:08.150 --> 00:07:09.800
so on, you know, there's,
there's three or four others,

142
00:07:09.800 --> 00:07:14.180
things like building and finance
and other stuff. We've got

143
00:07:14.210 --> 00:07:18.500
a web server tier of
course, which has groups again,

144
00:07:18.500 --> 00:07:21.470
clusters a web servers in
there. We've got separate clusters

145
00:07:21.470 --> 00:07:24.470
for read traffic, separate clusters
for right traffic, a separate

146
00:07:24.470 --> 00:07:29.660
cluster for search traffic. And,
and then we've got a

147
00:07:29.660 --> 00:07:32.270
bunch of more specialized things.
I think the, the biggest

148
00:07:32.270 --> 00:07:35.240
one is our front end
proxy. We don't run, we

149
00:07:35.240 --> 00:07:37.430
don't run any of the
open source proxy servers. We

150
00:07:37.430 --> 00:07:39.980
probably could, but we have
an in house written one

151
00:07:39.980 --> 00:07:43.160
that, that integrates tightly with
memcache and we use memcache

152
00:07:43.160 --> 00:07:46.730
very, very heavily to cash.
A lot of our data,

153
00:07:47.240 --> 00:07:49.670
which helps makes it helps
us to be very, very

154
00:07:49.670 --> 00:07:52.550
efficient from not just a
performance point of view, but

155
00:07:52.550 --> 00:07:55.010
also from outlet sort of
equipment, power savings point of

156
00:07:55.010 --> 00:07:58.220
view, too. We, I remember
years ago when I was

157
00:07:58.220 --> 00:08:01.550
going to conferences and saw
someone from Craigslist, give a

158
00:08:01.550 --> 00:08:04.640
presentation and they would often
put this graph up on

159
00:08:04.640 --> 00:08:08.120
the, on the presentation that
showed page views per kilowatt

160
00:08:08.120 --> 00:08:12.500
hour. And most of the
large websites fell pretty well

161
00:08:12.500 --> 00:08:15.410
on this, this reasonable looking
curve. And then the real

162
00:08:15.410 --> 00:08:18.320
outlier was Craigslist, which was
doing like 10 or 20

163
00:08:18.320 --> 00:08:20.510
or 50 times as many
page views per kilowatt hour.

164
00:08:20.510 --> 00:08:22.460
And the reason was we,
we found ways to do

165
00:08:22.460 --> 00:08:24.890
things very, very efficiently. They
keep our power footprint down

166
00:08:24.890 --> 00:08:29.560
as well. Can you, can
you walk me through of

167
00:08:29.560 --> 00:08:32.920
the process as someone puts
a, an ad on Craigslist

168
00:08:32.920 --> 00:08:35.140
and what's happening because there's,
there's kind of, you know,

169
00:08:35.140 --> 00:08:38.290
legend and mystery kind of
surrounding Craigslist. And, you know,

170
00:08:38.290 --> 00:08:40.330
if you visit a Craigslist
post, it looks like it's

171
00:08:40.330 --> 00:08:43.180
just static, HTML being served.
Cause a URL looks like

172
00:08:43.180 --> 00:08:46.420
static, HTML. And I wondered
about how, you know, how

173
00:08:46.420 --> 00:08:49.840
do you manage session, logging
someone in and all that

174
00:08:49.840 --> 00:08:52.720
kind of authentication authors' authorization
process. You know, someone can

175
00:08:52.720 --> 00:08:57.630
just show up, hit post,
they can add images. They

176
00:08:57.630 --> 00:09:00.600
can, you know, do a
lot before they're even asked

177
00:09:00.600 --> 00:09:03.840
to kind of log in
at that point what's happening

178
00:09:03.840 --> 00:09:07.250
in the backend. Okay. So
the other, and actually the

179
00:09:07.250 --> 00:09:09.050
reality is people never really
have to log in. In

180
00:09:09.050 --> 00:09:12.140
some cases I walked through,
I walked through this for

181
00:09:12.140 --> 00:09:13.880
a, my SQL meetup a
few months ago with a

182
00:09:13.880 --> 00:09:15.140
big whiteboard. So I'll try,
I'll try to do it

183
00:09:15.140 --> 00:09:19.280
without the whiteboard. Now basically
when, when, when your browser

184
00:09:19.280 --> 00:09:22.790
comes to your Craigslist from
the read point of view,

185
00:09:23.540 --> 00:09:25.850
some huge percentage of our
traffic is coming straight out

186
00:09:25.850 --> 00:09:27.440
of cash. So you're going
to hit that front end.

187
00:09:27.680 --> 00:09:29.000
You're gonna hit a load
balancer, which is going to

188
00:09:29.000 --> 00:09:32.150
send you to a front
end proxy, our memcache proxy,

189
00:09:32.150 --> 00:09:36.230
we call it or MCP
for short, and it will

190
00:09:36.230 --> 00:09:39.350
simply check the check the
URL you're looking for and

191
00:09:39.350 --> 00:09:41.000
likely find it in cash
and send it back to

192
00:09:41.000 --> 00:09:42.890
you. And, and that's, it.
It never, never goes deeper

193
00:09:42.890 --> 00:09:45.230
into our systems than that.
I mean, of course we

194
00:09:45.230 --> 00:09:48.560
logged the traffic as well,
but on the right side,

195
00:09:48.560 --> 00:09:50.540
when you want to come
and actually post something, you're

196
00:09:50.540 --> 00:09:53.000
browsing Craigslist, you hit the
post link and then you

197
00:09:53.000 --> 00:09:56.330
start through our posting process
and all of that traffic

198
00:09:56.330 --> 00:10:00.740
is happening between you again,
the front end proxy. And

199
00:10:00.740 --> 00:10:03.230
then one of our Apache
web servers in the right

200
00:10:03.230 --> 00:10:07.130
cluster handles all of our
right traffic. And what's happening

201
00:10:07.130 --> 00:10:09.710
is the posting process is
kind of a multistep process

202
00:10:09.710 --> 00:10:12.500
where you can put in
your posting title, the dollar

203
00:10:12.500 --> 00:10:15.170
amount, if you're selling something,
the body of the posting,

204
00:10:15.170 --> 00:10:16.910
and then you do have
the option to upload images

205
00:10:17.090 --> 00:10:19.370
and things like that. And
you can also walk through

206
00:10:19.370 --> 00:10:22.880
a, a tree of locations
to decide where in the

207
00:10:22.880 --> 00:10:26.690
geography you want your item
to appear. And most of

208
00:10:26.690 --> 00:10:30.440
that interaction is happening between
you and that, that right

209
00:10:30.500 --> 00:10:33.470
web server. And a lot
of the session state is

210
00:10:33.470 --> 00:10:36.320
being stored in Memcached. And
there's a cookie going back

211
00:10:36.320 --> 00:10:39.740
and forth between the browser
and that Apache process that's

212
00:10:39.950 --> 00:10:43.130
handling your request. So we
can, we can fetch that

213
00:10:43.130 --> 00:10:47.270
data out of memcache and
keep the state there. And

214
00:10:47.570 --> 00:10:49.700
we don't have to, we're
not persisting that in a,

215
00:10:49.700 --> 00:10:52.160
in a data store, longterm
on a behind the scenes.

216
00:10:52.160 --> 00:10:55.370
So it never hits the
disc. And what will happen

217
00:10:55.400 --> 00:11:00.260
is when the posting is
entered, we will write that

218
00:11:00.260 --> 00:11:05.000
into the postings database, into
a series of tables and

219
00:11:05.030 --> 00:11:06.950
also the images get uploaded
and sent off to our

220
00:11:06.950 --> 00:11:10.580
image system. And from the
front end, it looks pretty

221
00:11:10.580 --> 00:11:12.290
simple and it re and
it really is those those

222
00:11:12.290 --> 00:11:14.180
things happen. And then, then
you get a page that

223
00:11:14.180 --> 00:11:16.280
says, you know, thanks for
posting on Craigslist. Your posting

224
00:11:16.290 --> 00:11:18.770
should be visible in 10
to 15 minutes or whatever

225
00:11:18.770 --> 00:11:22.790
the exact text that messages
nowadays, and then behind the

226
00:11:22.790 --> 00:11:29.030
scenes, what happens is some
other processes get kicked off

227
00:11:29.150 --> 00:11:33.320
that help kind of propagate
your posting up to the

228
00:11:33.320 --> 00:11:37.160
site. One of those is
that we have a specialized

229
00:11:37.160 --> 00:11:39.710
service that is we call
our, our table of 10

230
00:11:39.890 --> 00:11:42.410
table of contents for our
talks, a demon that runs

231
00:11:43.010 --> 00:11:45.890
and its sole purpose is
to facilitate very, very fast

232
00:11:45.930 --> 00:11:48.200
browsing of the site when
you're drilling through categories and

233
00:11:48.200 --> 00:11:51.500
kind of going back through
time. So it's a service

234
00:11:51.500 --> 00:11:55.600
that knows can maintains the
sorted list in memory of,

235
00:11:55.600 --> 00:11:58.800
of posting IDs, which is
that numeric posting number that

236
00:11:58.800 --> 00:12:00.810
shows up in the URL
and also on the page.

237
00:12:02.280 --> 00:12:04.530
So our, our read web
servers, for example, when you,

238
00:12:04.530 --> 00:12:05.940
when you say, I want
to see the most recent

239
00:12:05.940 --> 00:12:09.090
items in, for sale in
San Francisco Bay area, the

240
00:12:09.090 --> 00:12:12.840
regions red cert web servers
will ask the table content

241
00:12:12.850 --> 00:12:15.270
server for the list of
the hundred, most recent posting

242
00:12:15.270 --> 00:12:17.370
ideas in a given category,
any given city, and they'll

243
00:12:17.370 --> 00:12:19.830
spit them back in, you
know, a millisecond or whatever,

244
00:12:19.830 --> 00:12:24.390
ridiculously small amount of time
it takes. And, and so

245
00:12:24.660 --> 00:12:26.850
list of IDs, the web
server can then turn around

246
00:12:26.850 --> 00:12:29.430
and ask another service, which
is we call our posting

247
00:12:29.430 --> 00:12:33.660
cash for all the data
metadata about those postings. And

248
00:12:33.660 --> 00:12:36.120
so the posting cash is
a custom demon that we

249
00:12:36.120 --> 00:12:41.460
have running that stores structured
Pearl data structures memcache. And

250
00:12:41.460 --> 00:12:43.380
so it's basically the web
server is going to get

251
00:12:43.380 --> 00:12:45.120
that list of posting ideas,
turn around that's the posting

252
00:12:45.120 --> 00:12:48.090
cash for all that data,
get that response back and

253
00:12:48.090 --> 00:12:52.170
then format the web page.
And then you, yep. So

254
00:12:52.170 --> 00:12:54.960
that's, that's for it to
see an individual that's a

255
00:12:54.960 --> 00:12:57.000
see a page of listings.
And then when you want

256
00:12:57.000 --> 00:12:59.190
to see that, it seems
the page wasn't cashed because

257
00:12:59.190 --> 00:13:01.050
if it was cash, our
proxy would have just served

258
00:13:01.050 --> 00:13:05.370
it. Okay. Gosh, right now,
if you, I want to

259
00:13:05.370 --> 00:13:06.990
see an individual listing, of
course, you'll click on the

260
00:13:06.990 --> 00:13:11.040
individual listing. And the same
kind of thing happens. Request

261
00:13:11.040 --> 00:13:14.220
goes to, you know, through
the proxy, assuming that's not

262
00:13:14.220 --> 00:13:16.230
in cash, it goes back
to a read web server

263
00:13:16.710 --> 00:13:19.260
and a read web server
has that posting ID because

264
00:13:19.260 --> 00:13:22.140
it was in the URL
and it fires off a

265
00:13:22.140 --> 00:13:24.240
request again to our posting
cash and says, you know,

266
00:13:24.240 --> 00:13:26.400
give me all the data
for this posting that comes

267
00:13:26.400 --> 00:13:29.280
back again on a memcache
typically. And if it's not

268
00:13:29.280 --> 00:13:31.860
a memcache, it will fall
back and pull that out

269
00:13:31.860 --> 00:13:34.050
of my SQL and then
throw it in M cash

270
00:13:34.140 --> 00:13:36.420
and return the data. And
then it's able to just

271
00:13:36.420 --> 00:13:37.980
render the page for you.
And then it lives in

272
00:13:37.980 --> 00:13:40.020
cash for however many minutes
has set in until it

273
00:13:40.020 --> 00:13:46.020
expires. The probably the most
dynamic people will have then

274
00:13:46.020 --> 00:13:49.230
is on the search side.
If you're actually searching Craigslist,

275
00:13:50.210 --> 00:13:52.380
it's the same sort of
mechanics. What happens is, you

276
00:13:52.380 --> 00:13:54.540
know, your request comes in.
And if it's a, if

277
00:13:54.540 --> 00:13:56.580
it, if the URL is
already cashed, we serve it.

278
00:13:56.580 --> 00:13:58.440
You out of the cash,
if not, it hits a

279
00:13:58.440 --> 00:14:02.220
search web server. And then
that fires off a request

280
00:14:02.280 --> 00:14:05.280
to our backend cluster of
Sphinx machines. So we use

281
00:14:05.280 --> 00:14:07.710
the open source, Sphinx indexing
engine for all of our

282
00:14:07.710 --> 00:14:12.540
search and spanked just like
that table of contents, Dean,

283
00:14:12.540 --> 00:14:14.580
that I mentioned, you fire
it a query. And what

284
00:14:14.580 --> 00:14:16.380
it spits back is a
list of these posting ideas

285
00:14:16.410 --> 00:14:20.940
in sorted order and a
B code list of posting

286
00:14:20.940 --> 00:14:23.400
ideas, ask the posting cash
for all the metadata, for

287
00:14:23.400 --> 00:14:25.920
the posting ideas, and then
renders the page using the

288
00:14:25.920 --> 00:14:28.620
same sort of routines for
date formatting and everything else

289
00:14:28.700 --> 00:14:33.780
that, that the table of
contents rendering is so well,

290
00:14:33.780 --> 00:14:35.760
we have happening on the
backend is there's a lot

291
00:14:35.760 --> 00:14:39.330
of, I mean, we've got,
I started my SQL, we've

292
00:14:39.330 --> 00:14:41.700
got the large Mim cash
pools that hold all those

293
00:14:41.700 --> 00:14:44.100
metadata and those data in
memory. And then we've got

294
00:14:44.100 --> 00:14:47.460
these other services that are
sort of like loose external

295
00:14:47.460 --> 00:14:51.950
indexes or queryable services that
can answer in terms of

296
00:14:51.950 --> 00:14:53.960
a list of posting ideas
or a single posting ID

297
00:14:53.960 --> 00:14:57.880
for request, Hey everybody, this
is Scott coming at you

298
00:14:57.880 --> 00:15:00.490
from another place in time.
No doubt. You probably bump

299
00:15:00.490 --> 00:15:03.490
into testing tasks now, and
then, and your work and,

300
00:15:03.490 --> 00:15:05.800
you know, writing functional tests
is probably not your favorite

301
00:15:05.800 --> 00:15:07.780
thing. It's kind of difficult.
It takes time and the

302
00:15:07.780 --> 00:15:10.630
results can be dubious. Well,
get ready to start liking

303
00:15:10.630 --> 00:15:14.560
tests. Thanks to Tellerik with
the, the new whereby testing

304
00:15:14.560 --> 00:15:17.980
framework building web automation test
is a breeze. You've got

305
00:15:17.980 --> 00:15:21.610
code automation with advanced asp.net
Ajax and server light applications.

306
00:15:21.610 --> 00:15:24.220
You can write a single
test, have it executed against

307
00:15:24.220 --> 00:15:27.670
multiple browsers at once. You'd
benefit from a rich API

308
00:15:27.670 --> 00:15:31.210
there's link support integration with
visual studio, unit testing, also

309
00:15:31.210 --> 00:15:34.600
end unit X unit and
NBA unit, not to mention

310
00:15:34.600 --> 00:15:37.450
the free rappers for Telerik
rad controls for ESPN and

311
00:15:37.450 --> 00:15:40.990
Ajax, and several light, all
shipping with Telerik's new testing

312
00:15:40.990 --> 00:15:44.440
tool. One of the best
features, the webinar testing framework,

313
00:15:44.650 --> 00:15:47.350
which is developed by art
of test is it's absolutely

314
00:15:47.350 --> 00:15:51.400
free Friday got hooked on
web testing framework, start using

315
00:15:51.400 --> 00:15:54.940
it right away, go to
tellerik.com for more info. Thanks

316
00:15:54.940 --> 00:15:59.860
a lot. At what point
will this not scale I'm

317
00:15:59.860 --> 00:16:03.190
so sure you do capacity
planning your, your number. There

318
00:16:03.190 --> 00:16:05.980
is up in the mid
billion, you know, 1.5 billion

319
00:16:06.550 --> 00:16:09.250
a year posting ID number,
but at what point will

320
00:16:09.250 --> 00:16:10.840
this, I mean, it's like
the entire, let's say that

321
00:16:10.840 --> 00:16:13.810
every single person who is
currently alive on the planet

322
00:16:14.920 --> 00:16:18.880
uses Craigslist, what will break
first? Is it the, is

323
00:16:18.880 --> 00:16:21.130
it the memcache you'll just
need more memory or will

324
00:16:21.130 --> 00:16:22.710
it be the big, you
know, I mean, as you,

325
00:16:22.710 --> 00:16:25.090
you know, that there are
instances of things out there,

326
00:16:25.090 --> 00:16:28.810
like Twitter and like Facebook
that have similarly organized things,

327
00:16:28.810 --> 00:16:30.670
it seems to be kind
of how things are organized

328
00:16:30.670 --> 00:16:33.970
nowadays, but I'm curious when
doing capacity planning, do you

329
00:16:33.970 --> 00:16:38.320
just plan on all current
available humans and plan from

330
00:16:38.320 --> 00:16:40.480
there we can do with
the entire population, then we'll

331
00:16:40.480 --> 00:16:42.820
be fine. I think, and
also the, the kind of

332
00:16:42.820 --> 00:16:45.580
approach that I've taken and,
and several of us kind

333
00:16:45.580 --> 00:16:48.820
of take to capacity planning
is we look at things

334
00:16:48.840 --> 00:16:52.300
and there's really kind of
two, two fundamental things we

335
00:16:52.300 --> 00:16:54.400
want to know. I think
given time, one of them

336
00:16:54.400 --> 00:16:58.210
is what is the current
bottleneck? What's the slowest piece

337
00:16:58.210 --> 00:17:01.150
of the infrastructure what's gonna
break first, if things just

338
00:17:01.150 --> 00:17:03.370
start ramping up, what break
first? And then the second

339
00:17:03.370 --> 00:17:06.760
piece is what is our
typical growth rate look like?

340
00:17:07.060 --> 00:17:10.090
You know, different, different activities
on the site grow at

341
00:17:10.090 --> 00:17:11.980
different rates. You know, are
we doubling every year? We're

342
00:17:11.980 --> 00:17:14.110
doubling every six months. Are
we doubling every week? You

343
00:17:14.110 --> 00:17:17.320
know, things like that. And
I can give you a

344
00:17:17.320 --> 00:17:20.110
real world example of that
just just this week. It

345
00:17:20.110 --> 00:17:23.170
was on Monday, Tuesday this
week. I I've been watching.

346
00:17:23.350 --> 00:17:25.580
I deal with a lot
of the search infrastructure and

347
00:17:25.580 --> 00:17:28.180
I've been noticing that the
number of searches that hit

348
00:17:28.180 --> 00:17:31.120
the backend search infrastructure is
significantly higher than it was

349
00:17:31.120 --> 00:17:33.520
even a month ago. And
I'm scratching my head going,

350
00:17:33.520 --> 00:17:35.110
you know, what's wrong? Is
there some new bot out

351
00:17:35.110 --> 00:17:37.900
there that's scraping us for
search and trying to grab

352
00:17:37.900 --> 00:17:40.450
all the listings or, you
know, what's going on and

353
00:17:40.450 --> 00:17:42.880
started looking at these numbers
and, and, you know, grab

354
00:17:42.880 --> 00:17:45.430
the last years worth of
data, plotted it out, looked

355
00:17:45.430 --> 00:17:48.010
at it. Several other people
who've been there longer than

356
00:17:48.010 --> 00:17:49.620
I have looked at. It
says, well, yeah, often get

357
00:17:49.620 --> 00:17:51.720
a big bump like this
in January. And it's just

358
00:17:51.720 --> 00:17:55.410
kind of like the new
plateau and, and that helped

359
00:17:55.410 --> 00:17:57.150
because it's like, okay, maybe
there isn't some, and we

360
00:17:57.420 --> 00:17:58.950
dug into the data and
it doesn't look like there's

361
00:17:58.950 --> 00:18:01.980
some big new bot out
there attacking us. It looks

362
00:18:01.980 --> 00:18:05.490
like there's just a lot
more searching going on. So

363
00:18:05.490 --> 00:18:07.710
that, that helps kind of
set my expectations about what

364
00:18:07.710 --> 00:18:10.530
the growth rate looks like.
But the other piece of

365
00:18:10.530 --> 00:18:12.570
it is what's the, what's
the slowest part of the

366
00:18:12.570 --> 00:18:15.870
system. Where's the most fragile
piece of infrastructure. And I

367
00:18:15.870 --> 00:18:17.730
think that is probably the
thing that we end up

368
00:18:17.730 --> 00:18:20.490
focusing on the most, because
our we're big enough now

369
00:18:20.490 --> 00:18:22.500
that we're not going to
be doubling every week or

370
00:18:22.500 --> 00:18:25.020
doubling every month or anything
like, like Twitter was a

371
00:18:25.020 --> 00:18:29.160
few, you know, a year
ago or, or of the

372
00:18:29.160 --> 00:18:30.960
other sites when they go
through the big growth spurt,

373
00:18:31.620 --> 00:18:33.600
we're in that mode now
where we're definitely growing, but

374
00:18:33.600 --> 00:18:36.750
we're growing at a more
predictable rate. And, and that

375
00:18:36.750 --> 00:18:39.660
helps a lot in the
scaling process because we can,

376
00:18:39.660 --> 00:18:41.610
we can plan ahead. We
can say, well, we think

377
00:18:41.610 --> 00:18:42.840
we know we need to
do, and we need to

378
00:18:42.840 --> 00:18:45.270
have it done in nine
months versus having it done

379
00:18:45.270 --> 00:18:48.360
tomorrow. And we can try
to plan and do things

380
00:18:48.360 --> 00:18:52.170
right. A current w you
know, if everyone started using

381
00:18:52.170 --> 00:18:56.640
Craigslist today, what would, what
would happen is we would

382
00:18:56.970 --> 00:18:59.310
simply run out of steam
on the database side right

383
00:18:59.310 --> 00:19:03.960
now. That's our single slowest
piece of infrastructure. And we're

384
00:19:03.960 --> 00:19:06.540
actually in the midst of
doing a pretty major overhaul

385
00:19:06.540 --> 00:19:11.910
of our database backend. And
we're moving away from database

386
00:19:11.910 --> 00:19:16.560
boxes with large radar rays
of fast drives to database

387
00:19:16.560 --> 00:19:18.870
boxes that use solid state
storage so that we can

388
00:19:19.590 --> 00:19:22.890
get rid of the bottleneck
and the bottleneck that comes

389
00:19:22.890 --> 00:19:27.180
from having seek times that
are actually measurable because once

390
00:19:27.180 --> 00:19:29.880
your data can't fit completely
cashed in Ram, then the

391
00:19:29.910 --> 00:19:32.490
seek time on disc becomes
a big bottleneck. And that's

392
00:19:32.490 --> 00:19:34.620
what we've been running into.
So that's kind of where

393
00:19:34.620 --> 00:19:36.980
we're at right now. How
do you do maintenance? How

394
00:19:36.980 --> 00:19:38.780
do you swap this out?
I mean, when you're doing

395
00:19:38.780 --> 00:19:41.540
brain surgery on a person
who's walking around and they

396
00:19:41.540 --> 00:19:44.750
need to keep standing up,
do you bring Craigslist down,

397
00:19:44.750 --> 00:19:47.270
or are you going to
do this in a organized

398
00:19:47.270 --> 00:19:49.040
and bringing know, bring one
site down at a time

399
00:19:49.040 --> 00:19:53.060
fashion? So there's a couple
answers to that question in

400
00:19:53.060 --> 00:19:56.390
the past. So we've, we've
got, we've got capabilities built

401
00:19:56.390 --> 00:19:58.670
into most of our code
to respect a sort of

402
00:19:58.670 --> 00:20:00.590
a glow, a couple of
global flags that we can,

403
00:20:00.590 --> 00:20:02.990
we can twiddle. And, you
know, with a couple of

404
00:20:02.990 --> 00:20:06.140
minutes notice, so we can
put the site into what

405
00:20:06.140 --> 00:20:08.870
we call read only mode
and a read only mode.

406
00:20:08.870 --> 00:20:10.790
What happens is people can
browse the site as normal

407
00:20:10.790 --> 00:20:12.800
and in searches work and
all sorts of things work.

408
00:20:13.070 --> 00:20:15.920
It's just that people can't
put new postings up so

409
00:20:15.920 --> 00:20:18.440
that we've actually used read
only mode pretty effectively to

410
00:20:18.440 --> 00:20:22.550
do various types of maintenance.
And one of the things

411
00:20:22.550 --> 00:20:24.980
we try to do when
we're planning out maintenance is

412
00:20:24.980 --> 00:20:26.540
try to come up with
a way to do it

413
00:20:26.540 --> 00:20:29.060
in the least impactful way
as possible. So that what

414
00:20:29.060 --> 00:20:31.250
we can do is say,
if it's, you know, we

415
00:20:31.250 --> 00:20:33.650
have to add the columns
to a database table is

416
00:20:34.520 --> 00:20:36.860
what we'll do is we'll
do that on one of

417
00:20:36.860 --> 00:20:39.050
the slaves and clone that
to another slave and clone

418
00:20:39.050 --> 00:20:41.270
those two out to more
kind of keep spreading the

419
00:20:41.270 --> 00:20:44.720
new scheme at all the
available databases until there's only

420
00:20:44.720 --> 00:20:47.060
one left and that's the
master. And then we have

421
00:20:47.170 --> 00:20:49.900
go into a read only
mode in order to either

422
00:20:49.900 --> 00:20:51.970
alter the master or promote
one of the slaves to

423
00:20:51.970 --> 00:20:56.020
be the new master and
make that switch happen. And

424
00:20:56.020 --> 00:21:00.190
then we have, we have,
you know, we have the

425
00:21:00.190 --> 00:21:02.530
ability to turn off and
on other services on the

426
00:21:02.530 --> 00:21:05.320
backend. You know, for example,
if we had to turn

427
00:21:05.320 --> 00:21:07.240
off images for a little
while, we could turn off

428
00:21:07.240 --> 00:21:09.250
images for a little while
and to disabled search, we

429
00:21:09.250 --> 00:21:13.420
could disable search. So it
it's, it's exceedingly rare unless

430
00:21:13.420 --> 00:21:16.150
there's some major network problem
that someone tries to go

431
00:21:16.150 --> 00:21:18.310
to Craigslist and just doesn't
get a response, or it

432
00:21:18.310 --> 00:21:22.360
gets a server error more
typically they'll have some form

433
00:21:22.360 --> 00:21:25.600
of degraded service if we're
doing maintenance. And in the

434
00:21:25.600 --> 00:21:28.060
case of read only mode
since such a huge percentage

435
00:21:28.060 --> 00:21:30.580
of our traffic has read
traffic, the end result is

436
00:21:30.580 --> 00:21:32.140
that most people don't even
notice where in read only

437
00:21:32.140 --> 00:21:36.210
mode because we try to
keep those pretty short. I

438
00:21:36.210 --> 00:21:40.530
noticed I'm looking at a
Craigslist in other countries and

439
00:21:40.530 --> 00:21:43.440
there's is internationalization. So if
you go to like Berlin,

440
00:21:43.440 --> 00:21:46.530
there's English and there's German,
but I don't see any

441
00:21:46.530 --> 00:21:53.250
non-English characters. That's right. We
were in the midst of

442
00:21:53.250 --> 00:21:55.920
a, one of, one of,
several of our sort of

443
00:21:55.920 --> 00:21:59.010
internal infrastructure and code upgrade
projects going on right now

444
00:21:59.010 --> 00:22:03.720
is trying to make all
of our code utfh friendly

445
00:22:05.250 --> 00:22:07.770
and, or I should say
Unicode friendly. And it's a

446
00:22:07.770 --> 00:22:11.640
question of how we're going
to do that. And we've,

447
00:22:11.910 --> 00:22:14.460
we started going down this
road a couple months ago

448
00:22:14.460 --> 00:22:17.070
and, and we're really we're
in that phase of the

449
00:22:17.070 --> 00:22:19.890
project right now where it's
like, we kind of understand

450
00:22:19.890 --> 00:22:22.050
what the major issues are
and we're trying to scope

451
00:22:22.050 --> 00:22:24.120
it out and get that
ballpark estimate of what we

452
00:22:24.120 --> 00:22:26.130
think, you know, how much
work are we going to

453
00:22:26.130 --> 00:22:28.590
bite off if we decide
to do this and what's

454
00:22:28.590 --> 00:22:31.140
the right way to do
it? You know, a good

455
00:22:31.140 --> 00:22:33.420
example of that is as
I'd written some code that

456
00:22:33.420 --> 00:22:35.640
would, I could point it
at a database server and

457
00:22:35.640 --> 00:22:37.650
it would walk all the
tables and find all the

458
00:22:37.650 --> 00:22:40.620
tech columns and check them
and give me a report

459
00:22:40.830 --> 00:22:43.980
of how many rows or
how many cells, right? How

460
00:22:43.980 --> 00:22:47.370
many, how many actual individual
values looked like Latin one

461
00:22:47.370 --> 00:22:55.740
versus windows 1252 versus UTF
eight, and, and try to

462
00:22:55.740 --> 00:22:58.350
get some sense of what
that, what that looks like.

463
00:22:58.680 --> 00:23:00.880
And then the next thing
is going to be, if

464
00:23:00.960 --> 00:23:04.680
we make it, depending on
which approach we take, are

465
00:23:04.680 --> 00:23:06.210
there changes, we're gonna make
what we're going to start

466
00:23:06.210 --> 00:23:10.050
in coding certain characters that
would cause some amount of

467
00:23:10.050 --> 00:23:12.240
our data to overrun the
available storage, because you got

468
00:23:12.240 --> 00:23:13.980
to call them to find
for 80 characters. And if

469
00:23:13.980 --> 00:23:16.560
you decide to start in
coding everything, it's not ASCII

470
00:23:16.560 --> 00:23:20.670
as HTML entities. For example,
certain things may get so

471
00:23:20.670 --> 00:23:22.560
big that they blow out
the available space. And then

472
00:23:22.560 --> 00:23:24.930
we have a data truncation
issue, and we need to

473
00:23:24.930 --> 00:23:27.150
scope out some of that
as well. It's not an

474
00:23:27.150 --> 00:23:30.300
easy project because we have
a lot of code and

475
00:23:30.300 --> 00:23:31.980
we have a lot of
very organic code that has

476
00:23:31.980 --> 00:23:34.240
grown up over, you know,
the 10 or 12 years

477
00:23:34.240 --> 00:23:37.620
that Craigslist has been around.
And, but the nice thing

478
00:23:37.620 --> 00:23:40.170
is, many of the people
wrote that code are still

479
00:23:40.170 --> 00:23:42.330
around. It's just that even
though they may not be

480
00:23:42.330 --> 00:23:44.220
proud of it, they can
get into it and remember

481
00:23:44.220 --> 00:23:48.060
what it does and what
it's there for. But it,

482
00:23:48.060 --> 00:23:51.620
it suffers from, I think
some of the same symptoms

483
00:23:51.620 --> 00:23:53.930
that lots of organic codebases
do, which is you go

484
00:23:53.930 --> 00:23:55.670
back to it after a
few years of using it

485
00:23:55.670 --> 00:23:57.260
and say, God, you know,
I wish I'd, I wish

486
00:23:57.260 --> 00:24:00.110
we'd built this abstraction layer
in place here because you

487
00:24:00.110 --> 00:24:02.390
know, we've got too much
SQL embedded dollar code, or

488
00:24:02.390 --> 00:24:06.230
we've got too many different
remote parts of our code

489
00:24:06.230 --> 00:24:08.510
base that have an intimate
understanding of the structure of

490
00:24:08.510 --> 00:24:11.180
this one thing. And we
should have wrapped it as

491
00:24:11.180 --> 00:24:13.640
an object so that we
could change the underlying implementation

492
00:24:13.640 --> 00:24:15.350
when we needed to and
not have to go update

493
00:24:15.440 --> 00:24:18.950
15, 20, 30 different files.
So we're kind of, we're

494
00:24:18.950 --> 00:24:21.020
kind of scoping that prob
process out right now, but

495
00:24:21.290 --> 00:24:23.990
we do have translation of
the site in a whole

496
00:24:23.990 --> 00:24:26.240
bunch of languages. And actually
we have more coming soon.

497
00:24:27.410 --> 00:24:32.090
There's we have internally, I
believe I don't lead our

498
00:24:32.090 --> 00:24:34.370
internationalization work, but I believe
we have a version of

499
00:24:34.370 --> 00:24:39.440
the site that is mostly
utfh friendly already, but we're

500
00:24:39.440 --> 00:24:44.200
not completely there yet. What
causes you to put a

501
00:24:44.200 --> 00:24:47.830
site in the country's list
on the homepage versus sticking

502
00:24:47.830 --> 00:24:50.140
it in slash about slash
sites? Cause there's a number

503
00:24:50.140 --> 00:24:54.370
of countries that are listed
in the larger about sites

504
00:24:54.370 --> 00:24:56.260
that aren't listed on the,
on the, on the homepage.

505
00:24:57.640 --> 00:25:00.730
I, I can only speculate
on that because that's not

506
00:25:00.730 --> 00:25:04.900
a change I'm typically involved
in. Yes, our, our CEO,

507
00:25:04.900 --> 00:25:11.920
Jim Buckmaster actually is very
good at suggesting changes to

508
00:25:11.950 --> 00:25:14.270
the homepage when we need
changes to the homepage. And,

509
00:25:14.270 --> 00:25:17.410
and often he also goes
through the process every once

510
00:25:17.410 --> 00:25:20.110
in a while of helping
us identify which new cities

511
00:25:20.110 --> 00:25:23.140
Craigslist should be in. So
sometime in the last year,

512
00:25:23.140 --> 00:25:25.720
I don't remember the exact
date. We relaunched Craigslist in

513
00:25:25.720 --> 00:25:29.500
like another a hundred and
a hundred, 200 cities worldwide.

514
00:25:30.040 --> 00:25:32.860
And so we went from
whatever, 500 to 700, I

515
00:25:32.860 --> 00:25:34.840
don't even remember the exact
numbers, but we, we really

516
00:25:34.840 --> 00:25:36.940
grew the number of cities
we're in. And he had

517
00:25:36.940 --> 00:25:39.070
been, he had been keeping
track for a long time

518
00:25:39.790 --> 00:25:42.370
places. He thought we should
be in or more importantly,

519
00:25:42.790 --> 00:25:45.940
watching all the feedback and
reading the forums on Craigslist,

520
00:25:46.330 --> 00:25:48.250
which is kind of a
piece of Craigslist. Everyone forgets

521
00:25:48.250 --> 00:25:50.770
is there, the forums actually
have a fair amount of

522
00:25:51.490 --> 00:25:53.800
activity going on in them.
He'll go in there and

523
00:25:53.800 --> 00:25:55.750
look for feedback. And people
say, gosh, you know, Craigslist

524
00:25:55.750 --> 00:25:57.190
should be in the city.
You know, I live in,

525
00:25:57.520 --> 00:26:00.220
I live in whatever city
and some part of the

526
00:26:00.220 --> 00:26:02.020
country or some part of
the world and the nearest

527
00:26:02.020 --> 00:26:04.360
Craigslist to me is four
hours away. I wish my

528
00:26:04.360 --> 00:26:08.110
city could have one. And
he looks all that feedback

529
00:26:08.110 --> 00:26:10.540
tries to figure out what's
reasonable. And then we'll what

530
00:26:10.540 --> 00:26:12.070
kind of drop a list
on us and say, Hey,

531
00:26:12.070 --> 00:26:14.170
here's what I'm thinking of
is all the new cities

532
00:26:14.590 --> 00:26:17.800
or in the case of
homepage changes or changes to

533
00:26:17.800 --> 00:26:20.290
how things are presented and
say, well, based on feedback

534
00:26:20.360 --> 00:26:22.180
and some other ideas that
I'm thinking we should do

535
00:26:22.180 --> 00:26:24.400
this and we'll mock it
up internally and look at

536
00:26:24.400 --> 00:26:26.200
it. And if there's any
debate, we'll debate it a

537
00:26:26.200 --> 00:26:28.870
little bit and eventually come
to some sort of consensus

538
00:26:28.870 --> 00:26:31.420
and do it. But I
don't know if the motivation

539
00:26:31.420 --> 00:26:33.310
for putting things on the,
on the homepage there is

540
00:26:33.310 --> 00:26:36.370
to increase awareness of them
or to show any sort

541
00:26:36.370 --> 00:26:39.160
of preference. It's, I'm not,
I don't have a lot

542
00:26:39.160 --> 00:26:41.950
of insight into how that
process works. Yeah. It'll be

543
00:26:41.950 --> 00:26:45.120
really interesting to see the
utfh thing gets sorted out.

544
00:26:46.020 --> 00:26:52.320
If people will keep speaking
English on Craigslist, even the

545
00:26:52.320 --> 00:26:56.710
Paris Craigslist is in English
by default. Yeah, it is.

546
00:26:56.710 --> 00:26:58.280
It is. And the funny
thing in, in the case

547
00:26:58.280 --> 00:27:01.670
of most of European languages,
there's no real reason. There's

548
00:27:01.670 --> 00:27:04.880
no need for that because
though we can't, we can't

549
00:27:04.880 --> 00:27:08.660
handle wide characters. We, we,
I believe are good with

550
00:27:08.720 --> 00:27:12.620
any Latin one or windows
1252. So all the accented

551
00:27:12.620 --> 00:27:15.320
characters for the most part
work, there are a couple

552
00:27:15.800 --> 00:27:18.260
small backend issues where things
don't quite work right there.

553
00:27:18.260 --> 00:27:20.570
But, you know, I kinda
wonder is, is this a

554
00:27:20.570 --> 00:27:22.310
chicken and the egg problem?
It's like, if people just

555
00:27:22.310 --> 00:27:25.490
saw more French postings in
the Paris Craigslist, would they

556
00:27:25.490 --> 00:27:27.800
be more apt to just
post in French? Or is

557
00:27:27.800 --> 00:27:32.300
it primarily English natives or,
you know, native English speakers

558
00:27:32.300 --> 00:27:34.370
who, who moves to Paris,
who happened to know of

559
00:27:34.370 --> 00:27:36.320
Craigslist before they got there?
Are they the ones using

560
00:27:36.320 --> 00:27:38.270
it? And these are the
things I don't know, we

561
00:27:38.270 --> 00:27:41.900
can speculate about, but, but
yeah, you're right. I've noticed

562
00:27:41.900 --> 00:27:44.240
that too browsing around various
various cities around the world,

563
00:27:44.240 --> 00:27:45.890
you see a lot more
English than you do whatever

564
00:27:45.890 --> 00:27:48.830
their native language might be.
Well, definitely brings up an

565
00:27:48.830 --> 00:27:51.920
interesting question around crowdsourcing. In
the sense of, you may

566
00:27:51.920 --> 00:27:53.720
go to all this work,
to do your utfh and

567
00:27:53.720 --> 00:27:55.460
find that no one cares
because they want to speak

568
00:27:55.460 --> 00:28:01.790
English and Craigslist because of
some perceived inertia or it's

569
00:28:01.790 --> 00:28:04.010
cultural or whatever. Like I'm
looking right now at a,

570
00:28:04.190 --> 00:28:09.830
a buried Craigslist site, Addis
ababa.craigslist.org, the Ethiopian Craigslist site.

571
00:28:11.720 --> 00:28:17.240
It's, it's a wasteland, there's
one job posting. And when

572
00:28:17.240 --> 00:28:20.330
I go to for sale,
there's a command 94 Camaro,

573
00:28:20.660 --> 00:28:23.450
but it's a guy in
named Doug from Crestwood, Kentucky.

574
00:28:23.810 --> 00:28:27.290
So apparently Doug has gotten,
has gotten lost and has

575
00:28:27.290 --> 00:28:30.140
posted that he's selling his
Camaro in the ADIs Abba

576
00:28:30.140 --> 00:28:33.830
section of Craigslist. There's literally
no Ethiopians in the section.

577
00:28:34.700 --> 00:28:36.200
And that may, yeah, they
may, that may have been

578
00:28:36.200 --> 00:28:39.410
someone who found a Craigslist
posting tool and decided to

579
00:28:39.410 --> 00:28:40.940
see what it would do
for them. I don't know.

580
00:28:41.630 --> 00:28:44.960
Yeah. It's interesting. I noticed
when I hover in the

581
00:28:44.960 --> 00:28:47.750
corner of, of the Craigslist,
there's a little tiny link

582
00:28:47.750 --> 00:28:50.510
that looks like there's like
Craigslist. And then there's a

583
00:28:50.510 --> 00:28:53.420
superscript that says like a
country code and it links

584
00:28:53.420 --> 00:28:58.610
to geo.craigslist.org. What is that?
You have that craigslist.org. So

585
00:28:58.610 --> 00:29:03.350
that link should take you
to a list or a

586
00:29:03.350 --> 00:29:07.970
page of all the different
places that Craigslist is available.

587
00:29:08.210 --> 00:29:10.820
Although Do you, do you
sniff where I'm at? Like

588
00:29:10.820 --> 00:29:13.340
if I revisit Craigslist and
another country, will you, will

589
00:29:13.340 --> 00:29:16.310
you figure me out and
send me there? You know,

590
00:29:16.310 --> 00:29:19.460
we've, I feel really dumb
for not knowing the answer

591
00:29:19.460 --> 00:29:21.260
to that. Cause we've talked
about doing that, but I

592
00:29:21.260 --> 00:29:23.780
don't know that we have
that code live right now.

593
00:29:23.780 --> 00:29:26.120
If we, we do, we
do use a couple of

594
00:29:26.120 --> 00:29:29.150
cookies, but if you come
as a completely fresh user

595
00:29:29.150 --> 00:29:33.140
to the site, I believe
the default experience today is

596
00:29:33.140 --> 00:29:34.700
that what we do is
present you with a large

597
00:29:34.700 --> 00:29:38.080
list. Yeah. I asked you
to pick, but yeah. Would,

598
00:29:38.090 --> 00:29:40.880
yeah. We've talked about the
idea of, and honestly we've

599
00:29:40.880 --> 00:29:44.140
kicked a lot of ideas
internally about what the future

600
00:29:44.140 --> 00:29:45.850
should look like. And a
lot of that has to

601
00:29:45.850 --> 00:29:48.400
do with being smarter about
various geo things, you know,

602
00:29:48.400 --> 00:29:51.250
defaulting people to the right
place and trying to put

603
00:29:51.250 --> 00:29:55.450
more geologic into things like
searches and presentation of listings

604
00:29:55.450 --> 00:29:57.630
and things like that. Wow.
So there, there is definitely

605
00:29:57.630 --> 00:29:59.850
a lot more to Craigslist
than I, than I realized.

606
00:29:59.880 --> 00:30:04.320
I'm curious though, since you're
such a right friendly site,

607
00:30:04.410 --> 00:30:06.990
that you, you really encourage
people to give you data,

608
00:30:07.470 --> 00:30:09.990
you don't even force people
to log in. Like you

609
00:30:09.990 --> 00:30:13.290
said earlier, in order to
give data, isn't Craigslist, just

610
00:30:13.290 --> 00:30:16.200
a big denial of service
attack kind of waiting to

611
00:30:16.200 --> 00:30:19.200
happen is that your primary
engineering problem that people are

612
00:30:19.200 --> 00:30:23.850
spamming you, It's a, is
definitely a problem. And at

613
00:30:23.850 --> 00:30:27.030
various times it is our
primary problem. Although not all

614
00:30:27.030 --> 00:30:29.790
the time, we do have
to deal with, with people

615
00:30:29.790 --> 00:30:33.540
who are spamming us. And
they're, you know, if you

616
00:30:33.600 --> 00:30:36.000
kind of go look in
the seedy underworld of affiliate

617
00:30:36.000 --> 00:30:38.580
marketing forums on the web
and things like that, you'll

618
00:30:38.580 --> 00:30:41.820
see folks trying to sell
tools that spam us and

619
00:30:41.820 --> 00:30:44.070
things like that. So, you
know, we, we look at

620
00:30:44.070 --> 00:30:47.310
that and try to put
reasonable limits in place. And

621
00:30:47.310 --> 00:30:50.010
it's a balance between putting
limits in place that let

622
00:30:50.010 --> 00:30:52.710
legitimate users do the things
that they want and need

623
00:30:52.710 --> 00:30:54.120
to do on the site
and trying to keep the

624
00:30:54.120 --> 00:30:57.300
bad guys out. And it's
like any other form of

625
00:30:57.300 --> 00:30:59.670
abuse online, it's sort of
an arms race. You know,

626
00:30:59.670 --> 00:31:03.870
we, we add new new
defense mechanisms in place and

627
00:31:03.870 --> 00:31:06.510
they, you know, they upped
the ante on their side

628
00:31:06.510 --> 00:31:08.850
as well and get smarter
about what they're doing. But,

629
00:31:09.900 --> 00:31:12.300
and the thing, the thing
we probably try the hardest

630
00:31:12.330 --> 00:31:17.430
to get control of are
the scams because people come

631
00:31:17.430 --> 00:31:23.550
to Craigslist and the people
have this innate desire to

632
00:31:23.550 --> 00:31:25.260
try to get a good
deal on something. So they

633
00:31:25.260 --> 00:31:28.410
see a, a listing for
something that looks a little

634
00:31:28.410 --> 00:31:30.180
too good to be true,
and sometimes they fall for

635
00:31:30.180 --> 00:31:31.890
it. And what what's on
the other end is someone

636
00:31:31.890 --> 00:31:33.450
who's trying to take their
money. Not someone who's trying

637
00:31:33.450 --> 00:31:35.220
to sell them a car
or a vacation rental or

638
00:31:35.220 --> 00:31:37.470
whatever it is they're looking
for. And it's, we, you

639
00:31:37.470 --> 00:31:38.580
know, we try to put
a lot of warnings on

640
00:31:38.580 --> 00:31:40.440
the website if you browse
around and you'll see warnings

641
00:31:40.440 --> 00:31:43.500
about, you know, not looking
for Western union transfers or

642
00:31:43.500 --> 00:31:46.770
cashier's checks. And the single
biggest piece of advice we

643
00:31:46.770 --> 00:31:49.710
give people is to do
deals locally. You know, Craigslist

644
00:31:49.710 --> 00:31:52.500
is all about local transactions.
So if you want to

645
00:31:52.500 --> 00:31:53.550
buy a car or try
to do it in your

646
00:31:53.550 --> 00:31:55.140
home city, where you can
meet the person, see the

647
00:31:55.140 --> 00:31:56.760
car and have it checked
out by mechanic, all that

648
00:31:56.760 --> 00:32:00.090
kind of stuff. But, you
know, there's, there's always some,

649
00:32:00.270 --> 00:32:02.730
some fraction of people out
there who are looking for

650
00:32:02.730 --> 00:32:06.270
a great deal and, and
in the process kind of

651
00:32:06.270 --> 00:32:08.850
put common sense aside. And
the trouble is even if

652
00:32:08.850 --> 00:32:10.920
that's a small fraction of
people, we have such a

653
00:32:10.920 --> 00:32:12.990
large volume of people that
that is going to happen.

654
00:32:13.320 --> 00:32:16.800
And so we're, we're trying
really hard and, and always

655
00:32:16.800 --> 00:32:20.430
trying new things that can
reduce the amount of trouble

656
00:32:20.430 --> 00:32:22.320
on the site. And, you
know, the reality is we

657
00:32:22.320 --> 00:32:23.880
can, we can talk about
this a lot, but it's

658
00:32:23.880 --> 00:32:25.680
a, it's a very small
percentage of the stuff on

659
00:32:25.680 --> 00:32:28.710
the site. And we feel
like we're making some real

660
00:32:28.710 --> 00:32:31.470
progress on that too. Yeah.
You know, I, I don't,

661
00:32:31.470 --> 00:32:33.510
I don't, I don't come
into a lot of spam.

662
00:32:33.510 --> 00:32:34.890
I don't see a lot
of, I haven't had any

663
00:32:34.890 --> 00:32:37.620
problems with Craigslist. I hear
all sorts of nightmare scenarios,

664
00:32:37.620 --> 00:32:40.130
but I've been using it
in here. I'm in Portland,

665
00:32:40.130 --> 00:32:43.430
Oregon for a years, sold
my car. I'm actually thinking

666
00:32:43.430 --> 00:32:47.080
about selling a house on
Craigslist. Well, is that, and

667
00:32:47.080 --> 00:32:50.020
that's great. And it's funny.
So I've had, I've had

668
00:32:50.020 --> 00:32:53.140
a similar experience. I think,
I think the issue is

669
00:32:53.140 --> 00:32:55.330
that those of us in
the tech community, and especially

670
00:32:55.330 --> 00:32:58.000
those who were working at
Craigslist are, are much more

671
00:32:58.000 --> 00:33:00.760
apt to hear the hear
about the problems and all

672
00:33:00.760 --> 00:33:03.550
the success stories. Because when
things would just work, as

673
00:33:03.550 --> 00:33:06.100
they're supposed to, nobody, nobody
sees that as remarkable or

674
00:33:06.100 --> 00:33:09.070
unusual. And nobody says anything
about it. It's when something,

675
00:33:09.220 --> 00:33:11.830
something becomes a problem or
something makes the headlines that,

676
00:33:11.860 --> 00:33:14.380
that suddenly, and that's what
everyone remembers. But the reality

677
00:33:14.380 --> 00:33:16.780
is, you know, there's, there's
millions of transactions happening every

678
00:33:16.780 --> 00:33:19.660
day that the people don't
talk about because they're just

679
00:33:19.660 --> 00:33:22.530
normal day to day things.
You know, Greg, a great

680
00:33:22.540 --> 00:33:24.670
example of this is around
Christmas time this year I

681
00:33:24.670 --> 00:33:28.120
was, I was getting my
wife, some, some, some woodworking

682
00:33:28.120 --> 00:33:31.480
tools for Christmas. And we
went around, looked in Craigslist,

683
00:33:31.510 --> 00:33:33.460
found people, selling things we
wanted, and we'd go look

684
00:33:33.460 --> 00:33:35.710
at them. And in the
course of interacting with the

685
00:33:35.710 --> 00:33:37.780
person we, they do ask,
Oh, where do you work?

686
00:33:37.780 --> 00:33:40.770
And I would say, Oh,
I worked at Craigslist. And

687
00:33:40.780 --> 00:33:43.060
the response I got was
always amazing. People like, wow,

688
00:33:43.090 --> 00:33:45.370
really? That's cool. What do
you do there? Craigslist is

689
00:33:45.370 --> 00:33:48.010
great. I've sold things on
Craigslist. I'd love Craigslist. You

690
00:33:48.010 --> 00:33:50.470
guys are awesome. And, and
not a single person that

691
00:33:50.470 --> 00:33:53.200
I've met in person in
dealing with in a circumstance

692
00:33:53.200 --> 00:33:56.150
like that has said anything
negative about it. So that's

693
00:33:56.350 --> 00:33:59.050
kind of getting out of
getting out from behind the

694
00:33:59.050 --> 00:34:00.880
computer screen and going out
and talking to real people.

695
00:34:00.880 --> 00:34:03.970
It kind of helps me
get a more balanced view

696
00:34:03.970 --> 00:34:07.030
of what people really think
of the site. So Well,

697
00:34:07.030 --> 00:34:10.420
it's, it's, it's definitely something
special. I'm sure that Craig

698
00:34:10.420 --> 00:34:12.070
knows that in you and
the, and the folks at

699
00:34:12.070 --> 00:34:15.430
Craigslist appreciate that. Oh, definitely.
Yeah. And it's, it's, it's

700
00:34:15.430 --> 00:34:18.670
neat. It's like, you know,
we, we, we've got this

701
00:34:18.820 --> 00:34:21.190
great community of users out
there and we know we're

702
00:34:21.190 --> 00:34:23.650
doing something that people like
and people will get a

703
00:34:23.650 --> 00:34:26.410
lot of value from it.
And it's great that we

704
00:34:26.410 --> 00:34:28.360
can do this and not
have to put up a

705
00:34:28.360 --> 00:34:31.000
lot of hoops for people
to jump through. And also

706
00:34:31.000 --> 00:34:32.710
it's, it's great that we're
in an, you know, our

707
00:34:32.710 --> 00:34:35.380
company is an environment where
it's small enough and it's

708
00:34:35.380 --> 00:34:37.780
not bureaucratic so that when
things come up, like when,

709
00:34:38.110 --> 00:34:40.960
when the, the, the earthquake
hit Haiti, you know, we

710
00:34:40.960 --> 00:34:43.150
were having a discussion internally
right away about what can

711
00:34:43.150 --> 00:34:44.470
we do to help the
people in Haiti and, you

712
00:34:44.470 --> 00:34:47.200
know, the Haiti earthquake relief
link right on the homepage

713
00:34:47.230 --> 00:34:49.990
now. And that went up
pretty quick. And, but we're

714
00:34:49.990 --> 00:34:52.870
also big enough that, you
know, we started getting inquiries

715
00:34:52.870 --> 00:34:56.140
from people at the state
department in the Obama administration

716
00:34:56.140 --> 00:34:58.570
saying, Hey, what, what, what,
what can you do to

717
00:34:58.570 --> 00:35:01.240
help? These are some resources
we're trying to pull together.

718
00:35:01.240 --> 00:35:03.880
Can you get involved in
his discussion about how other

719
00:35:03.880 --> 00:35:06.550
big websites can help with
the relief effort in Haiti?

720
00:35:06.570 --> 00:35:08.200
So we can get pulled
into things like that at

721
00:35:08.200 --> 00:35:14.320
the same time, nimble enough
to be able to do

722
00:35:14.320 --> 00:35:16.060
that without getting in there
and getting in our own

723
00:35:16.060 --> 00:35:19.540
way. That's very cool. Well,
we'll Jeremy, thank you so

724
00:35:19.540 --> 00:35:21.010
much for sitting down with
me today and talk to

725
00:35:21.010 --> 00:35:24.820
me about what's what's going
on in technology Craigslist. Oh,

726
00:35:24.820 --> 00:35:28.630
sure. No problem. This has
been another episode of Hanselminutes

727
00:35:28.720 --> 00:35:30.160
and we'll see you again
next week.

